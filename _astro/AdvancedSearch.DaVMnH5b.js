import{p as a,o as r,i as e,s,r as t}from"./props.BUlVg9lA.js";import{f as i,t as o,g as l,e as d,a as c,p as n,b as v,s as p,c as m,d as f,u,h as x,i as h,m as b,r as g,j as y}from"./utils.CJQZrHOt.js";import{s as w}from"./render.BA07FGsC.js";import{i as j}from"./if.D60netQB.js";import{e as k,i as T}from"./each.BwLlVelT.js";import{I as z,h as I}from"./Icon.DOYbOx9c.js";import{b as S}from"./input.62DHl0HI.js";import{I as B}from"./zh_TW.CljpqaUS.js";import{i as C}from"./translation.B4-sNpGr.js";import{u as E}from"./url-utils.CSd8bj7p.js";/* empty css                        */import"./branches.QMhmkc9g.js";import"./navBarConfig.BmtWP5W4.js";var L=x('<p class="text-base text-50 leading-relaxed"> </p>'),P=x('<div class="flex justify-center py-10"><!></div>'),R=x('<div class="card-base p-6 block rounded-[var(--radius-large)]"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-[var(--primary)] transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),q=x('<div class="space-y-4"></div>'),A=x('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),D=x('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),F=x('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-[var(--radius-large)]"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-[var(--primary)] focus:border-[var(--primary)] hover:border-black/20 dark:hover:border-white/20 text-75 placeholder-50 transition-colors outline-0"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function G(x,G){v(G,!1);let H=a(G,"title",24,()=>C(B.search)),N=a(G,"description",8,""),U=b(""),W=b([]),_=b(!1),J=!1;E("/"),E("/");const K=async()=>{if(J&&l(U).trim()){p(_,!0);try{if(window.pagefind){const a=await window.pagefind.search(l(U)),r=await Promise.all(a.results.map(a=>a.data()));p(W,r)}else 0}catch(a){console.error("Search error:",a),p(W,[])}finally{p(_,!1)}}else p(W,[])};let M;r(()=>{const a=async()=>{J=!0;const a=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();a&&p(U,a),l(U).trim()&&await K()};window.pagefind?a():document.addEventListener("pagefindready",a,{once:!0})});e();var O=F(),Q=i(O),V=h(Q),X=h(V),Y=h(X),Z=h(Y);z(Z,{icon:"material-symbols:search",class:"text-[1.5rem]"}),g(Y);var $=m(Y,2),aa=h($,!0);g($),g(X);var ra=m(X,2),ea=a=>{var r=L(),e=h(r,!0);g(r),o(()=>w(e,N())),c(a,r)};j(ra,a=>{N()&&a(ea)}),g(V);var sa=m(V,2),ta=h(sa),ia=h(ta),oa=h(ia);z(oa,{icon:"material-symbols:search",class:"text-2xl text-50"}),g(ia);var la=m(ia,2);t(la),g(ta),g(sa),g(Q);var da=m(Q,2),ca=h(da),na=h(ca),va=a=>{var r=P(),e=h(r);z(e,{icon:"svg-spinners:ring-resize",class:"text-4xl text-[var(--primary)]"}),g(r),c(a,r)},pa=a=>{var r=y(),e=i(r),t=a=>{var r=q();k(r,5,()=>l(W),T,(a,r)=>{var e=R(),t=h(e),i=h(t),d=h(i);I(d,()=>(l(r),u(()=>l(r).meta.title))),g(i);var n=m(i,2),v=h(n);I(v,()=>(l(r),u(()=>l(r).excerpt))),g(n),g(t),g(e),o(()=>s(t,"href",(l(r),u(()=>l(r).url)))),c(a,e)}),g(r),c(a,r)},d=a=>{var r=y(),e=i(r),s=a=>{var r=A(),e=h(r,!0);g(r),o(a=>w(e,a),[()=>(f(C),f(B),u(()=>C(B.searchNoResults)))]),c(a,r)},t=a=>{var r=D(),e=h(r,!0);g(r),o(a=>w(e,a),[()=>(f(C),f(B),u(()=>C(B.searchTypeSomething)))]),c(a,r)};j(e,a=>{l(U)?a(s):a(t,!1)},!0),c(a,r)};j(e,a=>{l(W),u(()=>l(W).length>0)?a(t):a(d,!1)},!0),c(a,r)};j(na,a=>{l(_)?a(va):a(pa,!1)}),g(ca),g(da),o(a=>{w(aa,H()),s(la,"placeholder",a)},[()=>(f(C),f(B),u(()=>C(B.search)))]),S(la,()=>l(U),a=>p(U,a)),d("input",la,()=>{clearTimeout(M),M=setTimeout(()=>{K()},300)}),c(x,O),n()}export{G as default};
