import{ah as e,g as n,y as t,Y as i,u as s,ai as a,a5 as r,M as h,z as c,ab as f,C as o,D as p,N as d,H as _,R as l,aj as g,$ as u,K as v,ak as m,al as y,am as b,an as w,ao as k,ap as E,aa as x,P as L,a2 as C,I as j,aq as D,G as M,ar as T,as as V,E as $,at as q,au as z,av as F,aw as N,L as P,ax as W,a3 as A,ae as B,J as G,ay as H,a1 as I,V as J,az as K,aA as O,aB as R,aC as S,aD as Y,b as Q,a8 as U,O as X,ad as Z,p as ee}from"./utils.CJQZrHOt.js";var ne=$|q|z;class te{parent;#e=!1;#n;#t=c?h:null;#i;#s;#a;#r=null;#h=null;#c=null;#f=null;#o=null;#p=0;#d=0;#_=!1;#l=null;#g=function(h){let c,f=0,o=i(0);return()=>{e()&&(n(o),t(()=>(0===f&&(c=s(()=>h(()=>a(o)))),f+=1,()=>{r(()=>{f-=1,0===f&&(c?.(),c=void 0,a(o))})})))}}(()=>(this.#l=i(this.#p),()=>{this.#l=null}));constructor(e,n,t){this.#n=e,this.#i=n,this.#s=t,this.parent=f.b,this.#e=!!this.#i.pending,this.#a=o(()=>{if(f.b=this,c){const e=this.#t;p();e.nodeType===d&&e.data===_?this.#u():this.#v()}else{var e=this.#m();try{this.#r=l(()=>t(e))}catch(n){this.error(n)}this.#d>0?this.#y():this.#e=!1}return()=>{this.#o?.remove()}},ne),c&&(this.#n=h)}#v(){try{this.#r=l(()=>this.#s(this.#n))}catch(e){this.error(e)}this.#e=!1}#u(){const e=this.#i.pending;e&&(this.#h=l(()=>e(this.#n)),g.enqueue(()=>{var e=this.#m();this.#r=this.#b(()=>(g.ensure(),l(()=>this.#s(e)))),this.#d>0?this.#y():(u(this.#h,()=>{this.#h=null}),this.#e=!1)}))}#m(){var e=this.#n;return this.#e&&(this.#o=v(),this.#n.before(this.#o),e=this.#o),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#b(e){var n=f,t=k,i=E;m(this.#a),y(this.#a),b(this.#a.ctx);try{return e()}catch(s){return w(s),null}finally{m(n),y(t),b(i)}}#y(){const e=this.#i.pending;null!==this.#r&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#o),x(this.#r,this.#f)),null===this.#h&&(this.#h=l(()=>e(this.#n)))}#w(e){this.has_pending_snippet()?(this.#d+=e,0===this.#d&&(this.#e=!1,this.#h&&u(this.#h,()=>{this.#h=null}),this.#f&&(this.#n.before(this.#f),this.#f=null))):this.parent&&this.parent.#w(e)}update_pending_count(e){this.#w(e),this.#p+=e,this.#l&&L(this.#l,this.#p)}get_effect_pending(){return this.#g(),n(this.#l)}error(e){var n=this.#i.onerror;let t=this.#i.failed;if(this.#_||!n&&!t)throw e;this.#r&&(C(this.#r),this.#r=null),this.#h&&(C(this.#h),this.#h=null),this.#c&&(C(this.#c),this.#c=null),c&&(j(this.#t),D(),j(M()));var i=!1,s=!1;const a=()=>{i?F():(i=!0,s&&V(),g.ensure(),this.#p=0,null!==this.#c&&u(this.#c,()=>{this.#c=null}),this.#e=this.has_pending_snippet(),this.#r=this.#b(()=>(this.#_=!1,l(()=>this.#s(this.#n)))),this.#d>0?this.#y():this.#e=!1)};var h=k;try{y(null),s=!0,n?.(e,a),s=!1}catch(e){T(e,this.#a&&this.#a.parent)}finally{y(h)}t&&r(()=>{this.#c=this.#b(()=>{g.ensure(),this.#_=!0;try{return l(()=>{t(this.#n,()=>e,()=>a)})}catch(e){return T(e,this.#a.parent),null}finally{this.#_=!1}})})}}function ie(e,n){var t=null==n?"":"object"==typeof n?n+"":n;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=t+"")}function se(e,n){return he(e,n)}function ae(e,n){N(),n.intro=n.intro??!1;const t=n.target,i=c,s=h;try{for(var a=P(t);a&&(a.nodeType!==d||a.data!==W);)a=A(a);if(!a)throw B;G(!0),j(a);const i=he(e,{...n,anchor:a});return G(!1),i}catch(r){if(r instanceof Error&&r.message.split("\n").some(e=>e.startsWith("https://svelte.dev/e/")))throw r;return r!==B&&console.warn("Failed to hydrate: ",r),!1===n.recover&&H(),N(),I(t),G(!1),se(e,n)}finally{G(i),j(s)}}const re=new Map;function he(e,{target:n,anchor:t,props:i={},events:s,context:a,intro:r=!0}){N();var o=new Set,p=e=>{for(var t=0;t<e.length;t++){var i=e[t];if(!o.has(i)){o.add(i);var s=Y(i);n.addEventListener(i,S,{passive:s});var a=re.get(i);void 0===a?(document.addEventListener(i,S,{passive:s}),re.set(i,1)):re.set(i,a+1)}}};p(J(K)),O.add(p);var _=void 0,l=R(()=>{var r=t??n.appendChild(v());return function(e,n,t){new te(e,n,t)}(r,{pending:()=>{}},n=>{a&&(Q({}),E.c=a);if(s&&(i.$$events=s),c&&U(n,null),_=e(n,i)||{},c&&(f.nodes.end=h,null===h||h.nodeType!==d||h.data!==X))throw Z(),B;a&&ee()}),()=>{for(var e of o){n.removeEventListener(e,S);var i=re.get(e);0===--i?(document.removeEventListener(e,S),re.delete(e)):re.set(e,i)}O.delete(p),r!==t&&r.parentNode?.removeChild(r)}});return ce.set(_,l),_}let ce=new WeakMap;function fe(e,n){const t=ce.get(e);return t?(ce.delete(e),t(n)):Promise.resolve()}export{ae as h,se as m,ie as s,fe as u};
