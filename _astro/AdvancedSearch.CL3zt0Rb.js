import{p as e,o as a,i as s,s as r,r as t}from"./translation.ImQVUNOD.js";import{i}from"./lifecycle.CWGh8ZU1.js";import{f as o,t as l,g as d,e as c,a as n,p,b as m,s as v,c as f,d as u,u as x,h,i as b,j as g,m as y,r as w}from"./render.BkHS84Qu.js";import{I as j,i as k,h as T}from"./Icon.39V8zEPh.js";import{e as z,i as I}from"./each.DJo7uDcb.js";import{b as S}from"./input.9jfRxv0h.js";import{I as _}from"./zh_TW.DUjyqjc_.js";import{u as L}from"./url-utils.BgRX8D30.js";/* empty css                        */import"./branches.rOtlbXIS.js";/* empty css                        */var P=b('<p class="text-base text-50 leading-relaxed"> </p>'),R=b('<div class="flex justify-center py-10"><!></div>'),q=b('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),A=b('<div class="space-y-4"></div>'),B=b('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),C=b('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),D=b('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function E(b,E){m(E,!1);let N=e(E,"title",24,()=>s(_.search)),U=e(E,"description",8,""),W=y(""),F=y([]),G=y(!1),H=!1;L("/"),L("/");const J=async()=>{if(H&&d(W).trim()){v(G,!0);try{if(window.pagefind){const e=await window.pagefind.search(d(W)),a=await Promise.all(e.results.map(e=>e.data()));v(F,a)}else 0}catch(e){console.error("Search error:",e),v(F,[])}finally{v(G,!1)}}else v(F,[])};let K;a(()=>{const e=async()=>{H=!0;const e=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();e&&v(W,e),d(W).trim()&&await J()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});i();var M=D(),O=o(M),Q=g(O),V=g(Q),X=g(V),Y=g(X);j(Y,{icon:"material-symbols:search",class:"text-[1.5rem]"}),w(X);var Z=f(X,2),$=g(Z,!0);w(Z),w(V);var ee=f(V,2),ae=e=>{var a=P(),s=g(a,!0);w(a),l(()=>h(s,U())),n(e,a)};k(ee,e=>{U()&&e(ae)}),w(Q);var se=f(Q,2),re=g(se),te=g(re),ie=g(te);j(ie,{icon:"material-symbols:search",class:"text-2xl text-50"}),w(te);var oe=f(te,2);t(oe),w(re),w(se),w(O);var le=f(O,2),de=g(le),ce=g(de),ne=e=>{var a=R(),s=g(a);j(s,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),w(a),n(e,a)},pe=e=>{var a=A();z(a,5,()=>d(F),I,(e,a)=>{var s=q(),t=g(s),i=g(t),o=g(i);T(o,()=>(d(a),x(()=>d(a).meta.title))),w(i);var c=f(i,2),p=g(c);T(p,()=>(d(a),x(()=>d(a).excerpt))),w(c),w(t),w(s),l(()=>r(t,"href",(d(a),x(()=>d(a).url)))),n(e,s)}),w(a),n(e,a)},me=e=>{var a=B(),r=g(a,!0);w(a),l(e=>h(r,e),[()=>(u(s),u(_),x(()=>s(_.searchNoResults)))]),n(e,a)},ve=e=>{var a=C(),r=g(a,!0);w(a),l(e=>h(r,e),[()=>(u(s),u(_),x(()=>s(_.searchTypeSomething)))]),n(e,a)};k(ce,e=>{d(G)?e(ne):(d(F),x(()=>d(F).length>0)?e(pe,1):d(W)?e(me,2):e(ve,!1))}),w(de),w(le),l(e=>{h($,N()),r(oe,"placeholder",e)},[()=>(u(s),u(_),x(()=>s(_.search)))]),S(oe,()=>d(W),e=>v(W,e)),c("input",oe,()=>{clearTimeout(K),K=setTimeout(()=>{J()},300)}),n(b,M),p()}export{E as default};
