import{p as t,o as s,i as e,a,s as i}from"./props.BUlVg9lA.js";import{j as o,f as n,a as r,p as l,b as c,s as v,g as d,m,d as u,u as h,i as w,r as p,t as y,e as g,h as f,o as L}from"./utils.CJQZrHOt.js";import{i as z}from"./if.D60netQB.js";import{s as b}from"./navBarConfig.BmtWP5W4.js";/* empty css                        */import"./branches.QMhmkc9g.js";var j=L('<svg class="w-5 h-5 icon-transition svelte-10yr7y9" fill="currentColor" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z" class="svelte-10yr7y9"></path></svg>'),C=L('<svg class="w-5 h-5 icon-transition svelte-10yr7y9" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3h7v7H3V3zm0 11h7v7H3v-7zm11-11h7v7h-7V3zm0 11h7v7h-7v-7z" class="svelte-10yr7y9"></path></svg>'),E=f('<button aria-label="切换文章列表布局"><!></button>');function H(f,L){c(L,!1);let H=t(L,"currentLayout",12,"list"),x=m(!1),B=m(!1),I=m(!1);function S(){v(B,window.innerWidth<1200),d(B)&&H("list")}function M(){if(!d(x)||d(B)||d(I))return;v(I,!0),H("list"===H()?"grid":"list"),localStorage.setItem("postListLayout",H());const t=new CustomEvent("layoutChange",{detail:{layout:H()}});window.dispatchEvent(t),setTimeout(()=>{v(I,!1)},500)}s(()=>{v(x,!0),S();const t=localStorage.getItem("postListLayout");return!t||"list"!==t&&"grid"!==t||H(t),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}}),s(()=>{const t=t=>{H(t.detail.layout)};return window.addEventListener("layoutChange",t),()=>{window.removeEventListener("layoutChange",t)}}),s(()=>(setTimeout(()=>{const t=document.getElementById("post-list-container");if(t){const s=t.classList.contains("grid-mode");H(s?"grid":"list")}},100),()=>{})),e();var T=o(),V=n(T),_=t=>{var s=E(),e=w(s),o=t=>{var s=j();r(t,s)},n=t=>{var s=C();r(t,s)};z(e,t=>{"list"===H()?t(o):t(n,!1)}),p(s),y(()=>{a(s,1,"btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90 flex items-center justify-center theme-switch-btn "+(d(I)?"switching":""),"svelte-10yr7y9"),s.disabled=d(I),i(s,"title","list"===H()?"切换到网格模式":"切换到列表模式")}),g("click",s,M),r(t,s)};z(V,t=>{d(x),u(b),d(B),h(()=>d(x)&&b.postListLayout.allowSwitch&&!d(B))&&t(_)}),r(f,T),l()}export{H as default};
