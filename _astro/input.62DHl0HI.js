import{w as e,x as a,u as l,y as t,z as n,A as u,B as r}from"./utils.CJQZrHOt.js";function v(v,o,c=o){var d=new WeakSet;e(v,"input",async e=>{var l=e?v.defaultValue:v.value;if(l=i(v)?s(l):l,c(l),null!==u&&d.add(u),await a(),l!==(l=o())){var t=v.selectionStart,n=v.selectionEnd,r=v.value.length;if(v.value=l??"",null!==n){var f=v.value.length;t===n&&n===r&&f>r?(v.selectionStart=f,v.selectionEnd=f):(v.selectionStart=t,v.selectionEnd=Math.min(n,f))}}}),(n&&v.defaultValue!==v.value||null==l(o)&&v.value)&&(c(i(v)?s(v.value):v.value),null!==u&&d.add(u)),t(()=>{var e=o();if(v===document.activeElement){var a=r??u;if(d.has(a))return}i(v)&&e===s(v.value)||("date"!==v.type||e||v.value)&&e!==v.value&&(v.value=e??"")})}function i(e){var a=e.type;return"number"===a||"range"===a}function s(e){return""===e?null:+e}export{v as b};
