import{p as e,o as a,i as r,s,r as t}from"./translation.DsOJoF3k.js";import{i}from"./lifecycle.DE6d2uh4.js";import{f as o,t as l,g as d,e as c,a as n,p,b as v,s as m,c as f,d as u,h as x,u as h,i as b,j as g,m as y,r as w,k as j}from"./render.BDQaTL4F.js";import{I as k,i as T,h as z}from"./Icon.C8wzWH14.js";import{e as I,i as S}from"./each.D4uyC2F2.js";import{b as _}from"./input.D3XAJwR3.js";import{I as L}from"./zh_TW.BMbNBumh.js";import{u as P}from"./url-utils.DFgQgLXL.js";/* empty css                        */import"./branches.CoZ2ZYLY.js";/* empty css                        */var R=g('<p class="text-base text-50 leading-relaxed"> </p>'),q=g('<div class="flex justify-center py-10"><!></div>'),A=g('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),B=g('<div class="space-y-4"></div>'),E=g('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),N=g('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),U=g('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function W(g,W){v(W,!1);let C=e(W,"title",24,()=>r(L.search)),D=e(W,"description",8,""),F=y(""),G=y([]),H=y(!1),J=!1;P("/"),P("/");const K=async()=>{if(J&&d(F).trim()){m(H,!0);try{if(window.pagefind){const e=await window.pagefind.search(d(F)),a=await Promise.all(e.results.map(e=>e.data()));m(G,a)}else 0}catch(e){console.error("Search error:",e),m(G,[])}finally{m(H,!1)}}else m(G,[])};let M;a(()=>{const e=async()=>{J=!0;const e=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();e&&m(F,e),d(F).trim()&&await K()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});i();var O=U(),Q=o(O),V=f(Q),X=f(V),Y=f(X),Z=f(Y);k(Z,{icon:"material-symbols:search",class:"text-[1.5rem]"}),w(Y);var $=u(Y,2),ee=f($,!0);w($),w(X);var ae=u(X,2),re=e=>{var a=R(),r=f(a,!0);w(a),l(()=>b(r,D())),n(e,a)};T(ae,e=>{D()&&e(re)}),w(V);var se=u(V,2),te=f(se),ie=f(te),oe=f(ie);k(oe,{icon:"material-symbols:search",class:"text-2xl text-50"}),w(ie);var le=u(ie,2);t(le),w(te),w(se),w(Q);var de=u(Q,2),ce=f(de),ne=f(ce),pe=e=>{var a=q(),r=f(a);k(r,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),w(a),n(e,a)},ve=e=>{var a=j(),t=o(a),i=e=>{var a=B();I(a,5,()=>d(G),S,(e,a)=>{var r=A(),t=f(r),i=f(t),o=f(i);z(o,()=>(d(a),h(()=>d(a).meta.title))),w(i);var c=u(i,2),p=f(c);z(p,()=>(d(a),h(()=>d(a).excerpt))),w(c),w(t),w(r),l(()=>s(t,"href",(d(a),h(()=>d(a).url)))),n(e,r)}),w(a),n(e,a)},c=e=>{var a=j(),s=o(a),t=e=>{var a=E(),s=f(a,!0);w(a),l(e=>b(s,e),[()=>(x(r),x(L),h(()=>r(L.searchNoResults)))]),n(e,a)},i=e=>{var a=N(),s=f(a,!0);w(a),l(e=>b(s,e),[()=>(x(r),x(L),h(()=>r(L.searchTypeSomething)))]),n(e,a)};T(s,e=>{d(F)?e(t):e(i,!1)},!0),n(e,a)};T(t,e=>{d(G),h(()=>d(G).length>0)?e(i):e(c,!1)},!0),n(e,a)};T(ne,e=>{d(H)?e(pe):e(ve,!1)}),w(ce),w(de),l(e=>{b(ee,C()),s(le,"placeholder",e)},[()=>(x(r),x(L),h(()=>r(L.search)))]),_(le,()=>d(F),e=>m(F,e)),c("input",le,()=>{clearTimeout(M),M=setTimeout(()=>{K()},300)}),n(g,O),p()}export{W as default};
